<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
    <link as="style"
        href="https://fonts.googleapis.com/css2?display=swap&amp;family=Newsreader%3Awght%40400%3B500%3B700%3B800&amp;family=Inter%3Awght%40400%3B500%3B700"
        onload="this.rel='stylesheet'" rel="stylesheet" />
    <title>ArTales - Sign Up</title>
    <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style type="text/tailwindcss">
        :root {
        --background-color: #f9f6f1;
        --text-color: #433d31;
        --primary-color: #e59549;
        --secondary-color: #d1c8ba;
        --accent-color: #8c7c5f;
      }
      body {
        font-family: 'Inter', sans-serif;
      }
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Newsreader', serif;
      }
      .wabi-sabi-bg {
        background-color: var(--background-color);
        background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23d1c8ba" fill-opacity="0.1"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
      }
      .btn { @apply transition-all duration-300 ease-in-out; }
      .btn:active { @apply transform -translate-y-px shadow-inner; }
      .form-input { @apply bg-transparent border-2 border-[var(--secondary-color)] rounded-md px-4 py-3 w-full text-[var(--text-color)] placeholder:text-[var(--accent-color)] focus:outline-none focus:ring-1 focus:ring-[var(--primary-color)] focus:border-[var(--primary-color)] transition-all duration-300; }
      .google-icon { width: 24px; height: 24px; stroke: currentColor; stroke-width: 1.5; fill: none; }
      .google-icon path { stroke-dasharray: 60; stroke-dashoffset: 0; transition: stroke-dashoffset 0.5s ease-in-out; }
    </style>
</head>

<body class="wabi-sabi-bg text-[var(--text-color)]">
    <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <div class="flex h-full grow flex-col items-center justify-center p-6 lg:p-12">
            <div class="w-full max-w-md space-y-8">
                <div class="text-center">
                    <h1 class="text-4xl font-bold tracking-tight text-[var(--text-color)]"><a href="/">ArTales</a></h1>
                    <p class="mt-4 text-lg text-[var(--accent-color)]">Create your account</p>
                </div>
                <div class="rounded-lg bg-white/30 p-8 shadow-sm backdrop-blur-sm border border-white/20 space-y-6">
                    <div class="space-y-4">
                        <div>
                            <label class="sr-only" for="email">Email</label>
                            <input autocomplete="email" class="form-input" id="email" name="email"
                                placeholder="Enter your email" required="" type="email" />
                        </div>
                        <div>
                            <label class="sr-only" for="password">Password</label>
                            <input autocomplete="current-password" class="form-input" id="password" name="password"
                                placeholder="Enter your password" required="" type="password" />
                        </div>
                    </div>
                    <div class="flex items-center justify-end">
                        <a class="text-sm font-medium text-[var(--accent-color)] hover:text-[var(--text-color)] hover:underline"
                            href="#">Forgot password?</a>
                    </div>
                    <div class="space-y-4">
                        <button
                            id="signup-submit"
                            class="btn w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-bold text-white bg-[var(--primary-color)] hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--primary-color)]"
                            type="button">
                            Create account
                        </button>
                        <div class="relative flex py-2 items-center">
                            <div class="flex-grow border-t border-[var(--secondary-color)]"></div>
                            <span class="flex-shrink mx-4 text-xs text-[var(--accent-color)]">OR</span>
                            <div class="flex-grow border-t border-[var(--secondary-color)]"></div>
                        </div>
                        <button
                            class="btn w-full flex items-center justify-center py-3 px-4 border border-[var(--secondary-color)] rounded-md shadow-sm bg-white/50 text-sm font-bold text-[var(--text-color)] hover:bg-white/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--primary-color)]"
                            type="button">
                            <svg class="google-icon mr-3" fill="none" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M21.8 12.2C21.8 11.5 21.7 10.8 21.6 10.1H12V14.1H17.6C17.3 15.6 16.4 16.9 15.1 17.7V20.2H18.4C20.5 18.2 21.8 15.4 21.8 12.2Z"
                                    stroke="#4285F4" stroke-width="2"></path>
                                <path
                                    d="M12 22C15.2 22 17.9 20.9 19.8 19.2L16.5 16.9C15.4 17.6 13.8 18.1 12 18.1C9.1 18.1 6.6 16.2 5.6 13.6H2.2V16C3.8 19.3 7.6 22 12 22Z"
                                    stroke="#34A853" stroke-width="2"></path>
                                <path
                                    d="M5.6 13.6C5.4 13 5.3 12.3 5.3 11.6C5.3 10.9 5.4 10.2 5.6 9.6V7L2.2 4C0.8 6.7 0 9.2 0 12.1C0 15 0.8 17.5 2.2 20.2L5.6 13.6Z"
                                    stroke="#FBBC05" stroke-width="2"></path>
                                <path
                                    d="M12 5.1C13.7 5.1 15.1 5.8 16.2 6.8L19.9 3.1C17.8 1.2 15.1 0 12 0C7.6 0 3.8 2.7 2.2 6L5.6 9.6C6.6 7 9.1 5.1 12 5.1Z"
                                    stroke="#EA4335" stroke-width="2"></path>
                            </svg>
                            Continue with Google
                        </button>
                    </div>
                </div>
                <p class="text-center text-sm text-[var(--accent-color)]">
                    Already have an account?
                    <a class="font-medium text-[var(--text-color)] hover:text-[var(--primary-color)] hover:underline" href="/login.html">Login</a>
                </p>
            </div>
        </div>
    </div>

</body>

<script>
    (function () {
        const btn = document.getElementById('signup-submit');
        if (!btn) return;
        btn.addEventListener('click', async () => {
            const email = document.getElementById('email')?.value?.trim();
            const password = document.getElementById('password')?.value;
            if (!email || !password) { alert('Please enter email and password'); return; }
            try {
                const res = await fetch('/api/signup', { method: 'POST', headers: { 'Content-Type': 'application/json' }, credentials: 'include', body: JSON.stringify({ email, password }) });
                if (!res.ok) { const data = await res.json().catch(() => ({})); throw new Error(data.error || 'Signup failed'); }
                setTimeout(() => {
                    window.location.href = '/profile.html';
                }, 100);
            } catch (err) { alert(err.message || 'Something went wrong'); }
        });
    })();
</script>

</html>